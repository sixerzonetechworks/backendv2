# ============================================================================
# RENDER DEPLOYMENT CONFIGURATION
# ============================================================================
#
# This file configures automatic deployment on Render
# Learn more: https://render.com/docs/yaml-spec
# ============================================================================

services:
  # Backend Web Service
  - type: web
    name: sixerzone-backend
    runtime: node
    env: node
    region: oregon # Change to your preferred region: oregon, frankfurt, singapore
    plan: free # Options: free, starter, standard, pro

    # Build Configuration
    buildCommand: npm install
    startCommand: npm start

    # Auto-deploy settings
    autoDeploy: true

    # Health check endpoint
    healthCheckPath: /health

    # Environment Variables (Set these in Render Dashboard for security)
    envVars:
      - key: NODE_ENV
        value: production

      - key: PORT
        value: 3000

      # Database - Add your Supabase connection string in Render Dashboard
      - key: DATABASE_URL
        sync: false # Set manually in dashboard

      # Razorpay - Add in Render Dashboard
      - key: RAZORPAY_KEY_ID
        sync: false # Set manually in dashboard

      - key: RAZORPAY_KEY_SECRET
        sync: false # Set manually in dashboard

      # JWT Secret - Generate a strong random string
      - key: JWT_SECRET
        sync: false # Set manually in dashboard

      - key: SESSION_SECRET
        sync: false # Set manually in dashboard

      # Frontend URL - Update after deploying frontend to Vercel
      - key: FRONTEND_URL
        sync: false # Set manually in dashboard
